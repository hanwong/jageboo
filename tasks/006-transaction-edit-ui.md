# Task 006: 거래 수정 화면 UI 구현 ✅ 완료

## 개요

사용자가 기존 거래 내역을 조회하고 수정하거나 삭제할 수 있는 화면을 구현합니다. 더미 데이터를 활용하여 UI를 완성하며, 실제 데이터 연동은 Phase 3에서 진행합니다.

## 관련 기능

- **F010**: 거래 수정 (금액, 날짜, 메모 수정)
- **F011**: 거래 삭제 (확인 다이얼로그 포함)
- **F012**: 메모 추가/수정

## 구현 단계

### 1단계: 확인 다이얼로그 컴포넌트 구현

- [x] `components/common/confirm-dialog.tsx` 생성
  - shadcn/ui의 AlertDialog 사용
  - 제목, 설명, 확인/취소 버튼
  - 삭제 등 위험한 작업에 사용
  - 모바일 친화적 UI

### 2단계: 거래 수정 페이지 구현

- [x] `app/transaction/[id]/edit/page.tsx` 업데이트
  - 더미 데이터에서 ID로 거래 조회
  - TransactionForm 컴포넌트 재사용 (edit 모드)
  - 기존 거래 데이터를 기본값으로 설정
  - 페이지 헤더 (뒤로가기 버튼)
  - 삭제 버튼 추가

### 3단계: TransactionForm에 Edit 모드 추가

- [x] `components/transaction/transaction-form.tsx` 수정
  - `mode` prop 추가 (create | edit)
  - `initialData` prop 추가
  - Edit 모드일 때 삭제 버튼 표시
  - 삭제 버튼 클릭 시 확인 다이얼로그 표시
  - 삭제 확인 시 더미 동작 (Phase 3에서 실제 연동)

### 4단계: 거래 카드에서 수정 화면 연결

- [x] `components/transaction/transaction-card.tsx` 수정
  - 카드 클릭 시 수정 화면으로 이동 (이미 구현됨)

### 5단계: 통합 및 테스트

- [x] 홈 화면에서 거래 카드 클릭 → 수정 화면 이동
- [x] 수정 폼에서 데이터 변경 → 저장 → 홈으로 리디렉션
- [x] 삭제 버튼 클릭 → 확인 다이얼로그 → 삭제 → 홈으로 리디렉션
- [x] 모바일 화면 레이아웃 검증

## 수락 기준

- [x] 거래 ID로 더미 데이터 조회가 정상 작동함
- [x] 기존 거래 정보가 폼에 정확히 표시됨
- [x] 금액/날짜/메모 수정이 가능함
- [x] 삭제 버튼 클릭 시 확인 다이얼로그가 표시됨
- [x] 삭제 확인 후 홈 화면으로 리디렉션됨
- [x] 수정/삭제 후 더미 데이터가 업데이트됨 (로컬 상태)
- [x] 모바일 화면에서 레이아웃이 정상 표시됨
- [x] `pnpm check-all` 통과
- [x] `pnpm build` 성공

## 테스트 체크리스트

> Playwright MCP를 사용한 시각적 및 기능 테스트

- [ ] 홈 화면에서 거래 카드 클릭 시 수정 화면으로 이동하는지 확인
- [ ] 수정 화면에서 기존 데이터가 정확히 표시되는지 확인
- [ ] 금액 수정 후 저장 시 변경사항이 반영되는지 확인
- [ ] 날짜 수정 후 저장 시 변경사항이 반영되는지 확인
- [ ] 메모 수정 후 저장 시 변경사항이 반영되는지 확인
- [ ] 삭제 버튼 클릭 시 확인 다이얼로그가 표시되는지 확인
- [ ] 삭제 취소 시 다이얼로그가 닫히고 수정 화면 유지되는지 확인
- [ ] 삭제 확인 시 홈으로 이동하고 해당 거래가 목록에서 사라지는지 확인
- [ ] 모바일 화면에서 UI가 깨지지 않는지 확인

## 참고 자료

- PRD: `/docs/PRD.md` - 거래 수정/삭제 기능 상세
- 폼 처리 가이드: `/docs/guides/forms-react-hook-form.md`
- 컴포넌트 패턴: `/docs/guides/component-patterns.md`
